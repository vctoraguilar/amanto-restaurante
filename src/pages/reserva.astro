---
import Layout from '../layouts/Layout.astro';
import TranslationScript from '../components/TranslationScript.astro';

const contactInfo = {
  address: {
    line1: "Calle Horno S/N (Esquina con la plaza)",
    line2: "Ollantaytambo, Urubamba, Cusco",
  },
  hours: {
    days: "Lunes a Domingo",
    time: "12:00 p.m. - 10:00 p.m.",
  },
  contact: {
    phone: "+51 906 919 229",
    email: "reservas@amantorestaurante.com",
  },
};
---

<Layout title="Reserva - Amanto" description="Reserva tu mesa en Amanto y vive una experiencia gastronómica única">
  <div class="bg-white overflow-hidden w-screen h-screen relative">
    <!-- Imagen de fondo -->
    <img
      class="absolute top-0 left-0 w-full h-full object-cover z-0"
      alt="Amanto Restaurante"
      src="/images/interior1.jpg" 
    />

    <!-- Capa oscura semi-transparente -->
    <div class="absolute top-0 left-0 md:left-[18.9%] w-full md:w-[81.1%] h-full md:h-[86%] z-10" style="background-color: rgba(0, 0, 0, 0.9);">
      <!-- Contenido central -->
      <div class="absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[85%] md:w-[29%] flex flex-col items-center px-4 md:px-0">
        <!-- Título principal -->
        <h1 class="font-medium text-white text-sm md:text-base text-center tracking-[0.06em] md:tracking-[0.096em] leading-normal" style="font-family: 'Figtree', -apple-system, BlinkMacSystemFont, sans-serif; font-weight: 500;" data-translate="reserve.title">
          ÚNETE A LA EXPERIENCIA AMANTO
        </h1>

        <!-- Descripción -->
        <p class="mt-[40px] md:mt-[63px] w-full font-normal text-white text-sm md:text-base text-center tracking-[0.03em] md:tracking-[0.048em] leading-5 md:leading-6" style="font-family: 'Questrial', -apple-system, BlinkMacSystemFont, sans-serif;" data-translate="reserve.description">
          Descubre por qué somos únicos y déjanos sorprenderte con nuestra pasión por la gastronomía
        </p>

        <!-- Botón de reserva -->
        <a
          href="mailto:reservas@amantorestaurante.com"
          class="mt-[70px] md:mt-[116px] w-[180px] md:w-[216px] h-[70px] md:h-[92px] rounded-full border-2 border-solid border-[#5f5f5f] font-bold text-white text-sm md:text-base text-center tracking-[0.03em] md:tracking-[0.048em] leading-[70px] md:leading-[92px] hover:bg-white hover:text-black transition-all duration-300 block"
          style="font-family: 'Figtree', -apple-system, BlinkMacSystemFont, sans-serif; font-weight: 700;"
          aria-label="Reservar mesa en Amanto"
          data-translate="reserve.button"
        >
          RESERVAR
        </a>
      </div>
    </div>

    <!-- Logo superior izquierdo -->
    <div
      onclick="window.location.href = '/'"
      class="absolute top-[3.5vh] left-[3.4vw] w-[60px] md:w-[9.8vw] h-auto z-50 cursor-pointer"
      role="img"
      aria-label="Amanto logo"
    >
      <!-- Logo para desktop -->
      <img 
        src="/images/logo.svg" 
        alt="Amanto" 
        class="hidden md:block w-full h-full object-contain"
      />
      <!-- Favicon para móvil -->
      <svg class="block md:hidden w-[50%] h-[50%]" viewBox="0 0 32 31.72" xmlns="http://www.w3.org/2000/svg">
        <path fill="#ffffff" d="M16,14.98C8,9.26,0,3.83,0,0v31.72h6.43c1.13-3.05,5.3-6.21,9.57-9.16,4.26,2.95,8.44,6.11,9.57,9.16h6.43V0c0,3.83-8,9.26-16,14.98ZM6.43,22.31v-6.99c.94,1.08,2.46,2.28,4.24,3.56-1.5,1.15-2.94,2.29-4.24,3.43ZM21.33,18.88c1.78-1.27,3.3-2.47,4.24-3.56v6.99c-1.3-1.14-2.73-2.28-4.24-3.43Z"/>
      </svg>
    </div>
    
    <!-- Selector de idioma superior derecho -->
    <div
      class="absolute top-[5.5vh] right-[5vw] md:right-[8.5vw] font-bold text-xs md:text-base tracking-[2px] md:tracking-[4.80px] leading-normal whitespace-nowrap z-50"
      role="navigation"
      aria-label="Language selector"
    >
      <button
        class="text-white tracking-[0.77px] hover:text-[#f49f13] transition-colors"
        data-lang="en"
        aria-label="Switch to EN"
      >
        EN
      </button>
      <span class="text-white tracking-[0.77px]"> | </span>
      <button
        class="text-[#f49f13] tracking-[0.77px] hover:text-white transition-colors"
        data-lang="es"
        aria-label="Switch to ES"
        aria-current="true"
      >
        ES
      </button>
    </div>

   

    <!-- Navegación inferior -->
    <nav
      id="bottom-nav"
      class="absolute bottom-[6vh] left-0 right-0 flex md:justify-center justify-start md:gap-[8.5vw] gap-[8vw] z-50 md:overflow-visible overflow-x-auto px-4 md:px-0 scrollbar-hide"
      role="navigation"
      aria-label="Main navigation"
    >
      <a
        href="/nosotros"
        class="nav-link text-white md:text-2xl text-base md:tracking-[14.40px] tracking-[6px] leading-normal font-light whitespace-nowrap relative inline-block pb-1"
        style="font-family: 'Figtree', -apple-system, BlinkMacSystemFont, sans-serif; font-weight: 300;"
      >
        NOSOTROS
      </a>
      <a
        href="/carta"
        class="nav-link text-white md:text-2xl text-base md:tracking-[14.40px] tracking-[6px] leading-normal font-light whitespace-nowrap relative inline-block pb-1"
        style="font-family: 'Figtree', -apple-system, BlinkMacSystemFont, sans-serif; font-weight: 300;"
      >
        CARTA
      </a>
      <a
        href="/reserva"
        class="nav-link active-link text-white md:text-2xl text-base md:tracking-[14.40px] tracking-[6px] leading-normal font-light whitespace-nowrap relative inline-block pb-1"
        style="font-family: 'Figtree', -apple-system, BlinkMacSystemFont, sans-serif; font-weight: 300;"
      >
        RESERVA
      </a>
    </nav>
  </div>

  <style>
    /* Barra inferior con degradado para los enlaces de navegación */
    .nav-link::after {
      content: '';
      position: absolute;
      bottom: 0;
      left: 50%;
      transform: translateX(-50%);
      width: 0;
      height: 2px;
      background: linear-gradient(90deg, #f59e0b 0%, #d97706 50%, #b45309 100%);
      transition: width 0.5s ease-in-out;
    }

    .nav-link:hover::after {
      width: 100px;
    }

    /* Barra visible para el enlace activo */
    .active-link::after {
      width: 100px;
    }

    /* Asegurar que no hay scroll */
    body {
      overflow: hidden;
    }

    /* Ocultar scrollbar en navegación móvil */
    .scrollbar-hide::-webkit-scrollbar {
      display: none;
    }

    .scrollbar-hide {
      -ms-overflow-style: none;
      scrollbar-width: none;
    }
  </style>

  <TranslationScript />
  
  <script>
    // Script para cambio de idioma
    const langButtons = document.querySelectorAll('[data-lang]');
    
    langButtons.forEach(button => {
      button.addEventListener('click', () => {
        const lang = button.getAttribute('data-lang') as 'es' | 'en';
        
        // Actualizar estado visual
        langButtons.forEach(btn => {
          if (btn.getAttribute('data-lang') === lang) {
            btn.classList.remove('text-white');
            btn.classList.add('text-[#f49f13]');
            btn.setAttribute('aria-current', 'true');
          } else {
            btn.classList.remove('text-[#f49f13]');
            btn.classList.add('text-white');
            btn.removeAttribute('aria-current');
          }
        });
        
        // Guardar idioma
        localStorage.setItem('language', lang);
        document.documentElement.setAttribute('data-language', lang);
        
        // Recargar para aplicar traducciones
        window.location.reload();
      });
    });

    // Cargar idioma guardado al inicio
    const savedLang = localStorage.getItem('language') as 'es' | 'en' | null;
    if (savedLang) {
      document.documentElement.setAttribute('data-language', savedLang);
      
      langButtons.forEach(btn => {
        if (btn.getAttribute('data-lang') === savedLang) {
          btn.classList.remove('text-white');
          btn.classList.add('text-[#f49f13]');
          btn.setAttribute('aria-current', 'true');
        } else {
          btn.classList.remove('text-[#f49f13]');
          btn.classList.add('text-white');
          btn.removeAttribute('aria-current');
        }
      });
    }

  // Centrar el enlace activo en móvil
  function centerActiveLink() {
    const nav = document.getElementById('bottom-nav');
    const activeLink = nav?.querySelector('.active-link');
    
    if (nav && activeLink && window.innerWidth < 768) {
      const navRect = nav.getBoundingClientRect();
      const linkRect = activeLink.getBoundingClientRect();
      const scrollLeft = linkRect.left - navRect.left - (navRect.width / 2) + (linkRect.width / 2);
      
      nav.scrollTo({
        left: nav.scrollLeft + scrollLeft,
        behavior: 'smooth'
      });
    }
  }

  // Ejecutar al cargar y al redimensionar
  window.addEventListener('load', centerActiveLink);
  window.addEventListener('resize', centerActiveLink);
  </script>
</Layout>

